apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: ${{ values.service.team }}
  description:  ARGOCD team config repo component for ${{ values.service.team }}.
  labels:
    business_unit: ${{values.labels.businessUnit}}
  annotations:
    backstage.io/kubernetes-id: value
  tags:
    - argocd
    - gitops
  links:
    - url: https://argo.svc.aws.gartner.com/applications/${{values.labels.businessUnit}}.dev.${{values.service.bitbucketProjectKey}}.${{ values.service.team }}.root
      title: Dev(ARGOCD Root Application)
      icon: dashboard
      type: admin-dashboard
    - url: https://argo.svc.aws.gartner.com/applications/${{values.labels.businessUnit}}.qa.${{values.service.bitbucketProjectKey}}.${{ values.service.team }}.root
      title: QA(ARGOCD Root Application)
      icon: dashboard
      type: admin-dashboard
    - url: https://argo.svc.aws.gartner.com/applications/${{values.labels.businessUnit}}.prod.${{values.service.bitbucketProjectKey}}.${{ values.service.team }}.root
      title: Prod(ARGOCD Root Application)
      icon: dashboard
      type: admin-dashboard

spec:
  type: service
  lifecycle: experimental
  owner: pdo-devops
  # system: ${{ values.service.team }}


